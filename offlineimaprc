[general]
ui = TTY.TTYUI
accounts = dbalseiro
pythonfile = ~/.mutt/offlineimap.py
fsync = False

[Account dbalseiro]
localrepository = dbalseiro-local
remoterepository = dbalseiro-remote
status_backend = sqlite
postsynchook = notmuch new

[Repository dbalseiro-local]
type = Maildir
localfolders = ~/.mail/syntagma
nametrans = lambda folder: {
    'drafts':   '[Gmail]/Drafts',
    'sent':     '[Gmail]/Sent Mail',
    'flagged':  '[Gmail]/Starred',
    'trash':    '[Gmail]/Trash',
    'archive':  '[Gmail]/All Mail',
}.get(folder, folder)

[Repository dbalseiro-remote]
maxconnections = 1
type = Gmail
remoteuser = diego.balseiro@syntagma.com.ar
remotepasseval = get_keychain_pass(account="diego.balseiro@syntagma.com.ar", server="imap.gmail.com")
nametrans = lambda folder: {
    '[Gmail]/Drafts':       'drafts',
    '[Gmail]/Sent Mail':    'sent',
    '[Gmail]/Starred':      'flagged',
    '[Gmail]/Trash':        'trash',
    '[Gmail]/All Mail':     'archive',
}.get(folder, folder)

folderfilter = lambda folder: folder not in [
    '[Gmail]/Spam',
]


