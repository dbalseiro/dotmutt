[general]
ui = ttyui
accounts = dbalseiro
pythonfile = ~/.mutt/offlineimap.py
fsync = False

[Account dbalseiro]
localrepository = dbalseiro-local
remoterepository = dbalseiro-remote
status_backend = sqlite
postsynchook = notmuch new

[Repository dbalseiro-local]
type = Maildir
localfolders = ~/.mail/syntagma
nametrans = lambda folder: {
        'Todos': '[Gmail]/Todos',
        'Destacados': '[Gmail]/Destacados',
        'Enviados':'[Gmail]/Enviados',
        'Borradores':'[Gmail]/Borradores',
        'Papelera':'[Gmail]/Papelera',
    }.get(folder, folder)

[Repository dbalseiro-remote]
maxconnections = 1
type = Gmail
remoteuser = diego.balseiro@syntagma.com.ar
remotepasseval = get_keychain_pass(account="diego.balseiro@syntagma.com.ar", server="imap.gmail.com")
nametrans = get_local_name

folderfilter = lambda folder: folder not in [
        '[Gmail]/Spam',
        '[Gmail]/Notes',
        '[Gmail]/Importantes',
    ]

sslcacertfile = /usr/local/etc/openssl/cert.pem
